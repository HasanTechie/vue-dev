(function(t){function e(e){for(var n,i,s=e[0],l=e[1],c=e[2],u=0,p=[];u<s.length;u++)i=s[u],o[i]&&p.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={app:0},r=[];function i(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a2d59878"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=o[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise(function(e,n){a=o[t]=[e,n]});e.push(a[2]=n);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(t),r=function(e){l.onerror=l.onload=null,clearTimeout(c);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+n+": "+r+")");i.type=n,i.request=r,a[1](i)}o[t]=void 0}};var c=setTimeout(function(){r({type:"timeout",target:l})},12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1a90":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("28a5"),a("a481"),a("ac6a"),a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),o=a("bb71");a("da64");n["a"].use(o["a"],{iconfont:"md"});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Navbar"),a("v-content",{staticClass:"ma-4"},[a("router-view")],1)],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("v-toolbar",{attrs:{app:""}},[t.loggedIn?a("v-toolbar-side-icon",{staticClass:"indigo--text",on:{click:function(e){t.drawer=!t.drawer}}}):t._e(),a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"home"}}},[a("v-toolbar-title",{staticClass:"indigo--text"},[a("span",{staticClass:"font-weight-light display-1"},[t._v("Soli")]),a("span",{staticClass:"display-1"},[t._v("DPS")])])],1),a("v-spacer"),t.loggedIn?t._e():a("div",[a("v-btn",{attrs:{flat:"",router:"",to:{name:"register"}}},[a("span",{staticClass:"indigo--text"},[t._v("Register")]),a("v-icon",{staticClass:"indigo--text",attrs:{right:""}},[t._v("person_add")])],1),a("v-btn",{attrs:{flat:"",router:"",to:{name:"login"}}},[a("span",{staticClass:"indigo--text"},[t._v("Login")]),a("v-icon",{staticClass:"indigo--text",attrs:{right:""}},[t._v("person")])],1)],1),t.loggedIn?a("div",[a("v-btn",{attrs:{flat:""},on:{click:t.logout}},[a("span",{staticClass:"indigo--text"},[t._v("Logout")]),a("v-icon",{staticClass:"indigo--text",attrs:{right:""}},[t._v("exit_to_app")])],1)],1):t._e()],1),t.loggedIn?a("div",[a("v-navigation-drawer",{staticClass:"indigo",attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",t._l(t.links,function(e){return a("v-list-tile",{key:e.text,attrs:{router:"",to:{name:e.routename}}},[a("v-list-tile-action",[a("v-icon",{staticClass:"white--text"},[t._v(t._s(e.icon))])],1),a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"white--text"},[t._v(t._s(e.text))])],1)],1)}),1)],1)],1):t._e()],1)},l=[],c=a("cebc"),u=a("2f62"),d=Object(c["a"])({},Object(u["b"])(["loggedIn"])),p={name:"Navbar",data:function(){return{drawer:!1,links:[{icon:"home",text:"Home",routename:"home"},{icon:"list",text:"Select Competitor Hotels",routename:"selectcompetitor"},{icon:"bar_chart",text:"Analytics",routename:"analytics"},{icon:"calendar_today",text:"Monthly View",routename:"monthly"}]}},computed:Object(c["a"])({},d),created:function(){this.checkStatus()},methods:{logout:function(){this.$store.dispatch("logout")},checkStatus:function(){localStorage.getItem("user")&&(JSON.parse(localStorage.getItem("user")).user.status||(this.$store.dispatch("logout"),alert("Please contact for activation")))}}},m=p,v=a("2877"),f=a("6544"),h=a.n(f),g=a("8336"),y=a("132d"),x=a("8860"),b=a("ba95"),_=a("40fe"),k=a("5d23"),w=a("f774"),C=a("9910"),S=a("71d9"),A=a("706c"),V=a("2a7f"),O=Object(v["a"])(m,s,l,!1,null,"2aa2af2c",null),T=O.exports;h()(O,{VBtn:g["a"],VIcon:y["a"],VList:x["a"],VListTile:b["a"],VListTileAction:_["a"],VListTileContent:k["a"],VListTileTitle:k["b"],VNavigationDrawer:w["a"],VSpacer:C["a"],VToolbar:S["a"],VToolbarSideIcon:A["a"],VToolbarTitle:V["a"]});var D={name:"App",components:{Navbar:T},data:function(){return{}},created:function(){this.checkStatus()},methods:{checkStatus:function(){}}},M=D,E=a("7496"),P=a("549c"),I=Object(v["a"])(M,r,i,!1,null,null,null),R=I.exports;h()(I,{VApp:E["a"],VContent:P["a"]});var j=a("8c4f"),L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("h2",{staticClass:"display-3 my-4"},[t._v("Instructions or Home page contents goes here")]),a("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. A ad enim, eum hic ipsa nemo, nesciunt officiis provident quas quidem repellat reprehenderit voluptatem voluptates! Deserunt eius libero necessitatibus quod sed?")]),a("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam blanditiis cumque dolores earum, ex, illum, nesciunt numquam provident quos rerum saepe sapiente suscipit tempore totam unde. Ad delectus omnis quo. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consectetur dolore ea excepturi fuga hic, impedit incidunt iste labore magnam, molestias nihil odio officiis quam quas quisquam, repellendus unde velit vero. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam aliquid asperiores, cupiditate ex excepturi facilis harum, nam qui saepe, tempora tempore tenetur! Asperiores enim esse, exercitationem fugit iure recusandae voluptate. ")])])],1)},F=[],$={name:"Home"},H=$,q=a("a523"),B=Object(v["a"])(H,L,F,!1,null,"523643da",null),Y=B.exports;h()(B,{VContainer:q["a"]});var W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Register")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Your Name",type:"text"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{"prepend-icon":"email",label:"Your Email",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{id:"password","prepend-icon":"lock",label:"Your Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-layout",[a("v-icon",[t._v("hotel")]),t._v("  "),a("multiselect",{attrs:{options:t.options,"custom-label":t.nameWithCity,placeholder:"Select your Hotel",label:"selecthotel","track-by":"name"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1),a("v-card-actions",{staticClass:"pa-3"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.register}},[t._v("Register")])],1),a("v-card-text",[a("router-link",{attrs:{to:"/login"}},[t._v("\n                        Already have an account? Login\n                    ")])],1)],1)],1)],1)],1)},K=[],U=(a("456d"),a("7f7f"),a("bc3a")),N=a.n(U),J=N.a.create({baseURL:"http://35.158.76.194/api/",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),G={getHotels:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"All";return J.get("/hotels&get=0"+this.getApiKey()+"&city="+t)},getPrices:function(){return J.get("roomsprices&get=40"+this.getApiKey()+"&hotelid=28&datefrom=2019-04-25&dateto=2019-12-25")},getCompetitorAvgPrices:function(t){return J.get("competitorsavgprices&get=0"+this.getApiKey()+"&hotelid=21&datefrom=2019-05-05&dateto=2020-05-05&competitorsid="+t)},getCompetitorAvgPricesForDates:function(t,e,a){return J.get("competitorsavgprices&get=0"+this.getApiKey()+"&hotelid=21&datefrom="+e+"&dateto="+a+"&competitorsid="+t)},getCompetitorPricesApex:function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"2019-01-01",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"2021-01-01";return J.get("competitorspricesapex&get=0"+this.getApiKey()+"&hotelid="+t+"&datefrom="+n+"&dateto="+o+"&competitorsid="+e+"&room="+a)},getCompetitorRoomsPrices:function(t){return J.get("competitorsroomsprices&get=0"+this.getApiKey()+"&hotelid=28&datefrom=2019-04-25&dateto=2019-12-28&competitorsid="+t)},getCompetitors:function(){return"&competitorsid="+this.$store.getters.competitorsids},getEvents:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Berlin";return J.get("events&get=0"+this.getApiKey()+"&city="+t)},getApiKey:function(){return"&apiKey=KuKMQbgZPv0PRC6GqCMlDQ7fgdamsVY75FrQvHfoIbw4gBaG5UX0wfk6dugKxrtW"}},z=a("8e5f"),X=a.n(z),Q={name:"Register",components:{Multiselect:X.a},props:{source:String},data:function(){return{name:null,email:null,password:null,hotel_id:null,value:[],options:[]}},created:function(){this.getAllHotels()},methods:{nameWithCity:function(t){var e=t.name,a=t.city;return"".concat(e," — ").concat(a)},getAllHotels:function(){var t=this;G.getHotels().then(function(e){var a=Object.keys(e.data.data).map(function(t){return e.data.data[t]});t.options=a}).catch(function(t){console.log("There was an error:"+t.response)})},register:function(){var t=this;this.$store.dispatch("register",{name:this.name,email:this.email,password:this.password,hotel_id:this.value.hotel_id}).then(function(){location.reload(),t.$router.push({name:"home"})})}}},Z=Q,tt=a("b0af"),et=a("99d9"),at=a("0e8f"),nt=a("4bd4"),ot=a("a722"),rt=a("2677"),it=Object(v["a"])(Z,W,K,!1,null,"2757a29c",null),st=it.exports;h()(it,{VBtn:g["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["b"],VContainer:q["a"],VFlex:at["a"],VForm:nt["a"],VIcon:y["a"],VLayout:ot["a"],VSpacer:C["a"],VTextField:rt["a"],VToolbar:S["a"],VToolbarTitle:V["a"]});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Login form")]),a("v-spacer")],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{"prepend-icon":"email",name:"email",label:"Your Email",type:"text"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"Your Password",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",{staticClass:"pa-3"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.login}},[t._v("Login")])],1),a("v-card-text",[a("router-link",{attrs:{to:"/register"}},[t._v("\n                        Dont have an account? Register\n                    ")])],1)],1)],1)],1)],1)},ct=[],ut={name:"Login",data:function(){return{email:null,password:null}},created:function(){},methods:{login:function(){var t=this;this.$store.dispatch("login",{email:this.email,password:this.password}).then(function(){location.reload(),t.$router.push({name:"home"})})}}},dt=ut,pt=Object(v["a"])(dt,lt,ct,!1,null,"15446d17",null),mt=pt.exports;h()(pt,{VBtn:g["a"],VCard:tt["a"],VCardActions:et["a"],VCardText:et["b"],VContainer:q["a"],VFlex:at["a"],VForm:nt["a"],VLayout:ot["a"],VSpacer:C["a"],VTextField:rt["a"],VToolbar:S["a"],VToolbarTitle:V["a"]});var vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("label",{staticClass:"typo__label"},[t._v("Select Competitor Hotels")]),a("multiselect",{attrs:{options:t.options,"custom-label":t.nameWithCity,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"name","preselect-first":!0},on:{close:t.updateSelectedHotels},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.values,o=(e.search,e.isOpen);return[n.length&&!o?a("span",{staticClass:"multiselect__single"},[t._v(t._s(n.length)+" options selected")]):t._e()]}}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),a("pre",{staticClass:"language-json"},[a("code",[t._v(t._s(t.value))])])],1)},ft=[],ht={name:"SelectCompetitor",components:{Multiselect:X.a},data:function(){return{value:[],options:[]}},created:function(){this.getAllHotels()},methods:{nameWithCity:function(t){var e=t.name,a=t.city;return"".concat(e," — ").concat(a)},getAllHotels:function(){var t=this;G.getHotels().then(function(e){var a=Object.keys(e.data.data).map(function(t){return e.data.data[t]});t.options=a}).catch(function(t){console.log("There was an error:"+t.response)})},updateSelectedHotels:function(){console.log("store");var t=JSON.parse(JSON.stringify(this.value));this.$store.dispatch("setCompetitorsArray",t),console.log(t)}}},gt=ht,yt=(a("60bc"),Object(v["a"])(gt,vt,ft,!1,null,null,null)),xt=yt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{wrap:"","align-center":""}},[a("v-flex",{attrs:{xs6:"",sm3:"","d-flex":""}},[a("v-select",{attrs:{items:t.items,label:"Room Type"},model:{value:t.selectedValue,callback:function(e){t.selectedValue=e},expression:"selectedValue"}})],1),a("v-flex",{attrs:{xs6:"",sm3:"","d-flex":""}},[a("div",{staticClass:"datepicker-trigger"},[a("v-text-field",{attrs:{id:"datepicker-trigger",placeholder:"Select dates",value:t.formatDates(t.dateOne,t.dateTwo)}}),a("AirbnbStyleDatepicker",{attrs:{"trigger-element-id":"datepicker-trigger",mode:"range","fullscreen-mobile":!0,"date-one":t.dateOne,"date-two":t.dateTwo},on:{"date-one-selected":function(e){t.dateOne=e},"date-two-selected":function(e){t.dateTwo=e}}})],1)]),a("v-btn",{attrs:{color:"success"},on:{click:t.updateChart}},[t._v("Update Chart")])],1),a("v-card",[t.trigger?a("Chart",{attrs:{myData:t.myData}}):t._e()],1)],1)],1)},_t=[],kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{staticClass:"my-4"},[a("h1",{staticClass:"display-2 mb-3 font-weight-light"},[t._v("Analytics")]),a("apexcharts",{staticStyle:{width:"auto"},attrs:{height:"700px",type:"line",options:t.chartOptions,series:t.series}})],1)],1)},wt=[],Ct=a("1321"),St=a.n(Ct),At={name:"Chart.vue",props:{myData:{type:Object,required:!0}},components:{apexcharts:St.a},data:function(){return{chartOptions:{chart:{id:"line-chart"},xaxis:{categories:this.myData.xAxis,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!0,minHeight:void 0,maxHeight:120,showDuplicates:!1,style:{colors:[],fontSize:"6px",fontFamily:void 0,cssClass:"apexcharts-xaxis-label"},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss"}},axisBorder:{show:!0,color:"#78909C",width:"100%",height:1,offsetX:0,offsetY:-8},axisTicks:{show:!0,color:"#78909C",height:6,offsetX:0,offsetY:0},tickAmount:void 0,min:void 0,max:void 0,range:void 0,floating:!1,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontFamily:void 0,cssClass:"apexcharts-xaxis-title"}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:0,dashArray:0},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0}},yaxis:{title:{text:"Pricing in Euro"}}},series:this.myData.yAxis}},created:function(){},methods:{}},Vt=At,Ot=Object(v["a"])(Vt,kt,wt,!1,null,"edb8f0e0",null),Tt=Ot.exports;h()(Ot,{VContainer:q["a"]});var Dt=a("70f2"),Mt=a.n(Dt),Et={name:"Analytics",components:{Chart:Tt},data:function(){return{trigger:!1,executed:!1,executedB:!1,myData:{},dateFormat:"D MMM YYYY",dateOne:"",dateTwo:"",competitors:[JSON.parse(localStorage.getItem("user")).user.hotel_id],hotelid:JSON.parse(localStorage.getItem("user")).user.hotel_id,items:[],selectedValue:"All"}},created:function(){this.getCompetitorsIDs(),this.getHotelsPrices()},methods:{getHotelsPrices:function(){var t=this;this.executedB||(G.getCompetitorPricesApex(this.hotelid,this.competitors,this.selectedValue).then(function(e){t.myData=e.data.data,t.items=t.myData.rooms,t.trigger=!0}),this.executedB=!0)},updateChart:function(){var t=this;this.trigger=!1,this.getHotelDataWithDates(this.dateOne,this.dateTwo),this.$nextTick(function(){t.trigger=!0})},formatDates:function(t,e){var a="";return t&&(a=Mt()(t,this.dateFormat)),e&&(a+=" - "+Mt()(e,this.dateFormat)),t&&e&&(this.executed||(this.getHotelDataWithDates(t,e),this.executed=!0)),a},getCompetitorsIDs:function(){for(var t=JSON.parse(JSON.stringify(this.$store.getters.competitorsArray)),e=0;e<t.length;e+=1)this.competitors.push(t[""+e]["hotel_id"])},getHotelDataWithDates:function(t,e){var a=this;G.getCompetitorPricesApex(this.hotelid,this.competitors,this.selectedValue,t,e).then(function(t){a.myData=t.data.data})}}},Pt=Et,It=a("b56d"),Rt=Object(v["a"])(Pt,bt,_t,!1,null,"71d6c732",null),jt=Rt.exports;h()(Rt,{VBtn:g["a"],VCard:tt["a"],VContainer:q["a"],VFlex:at["a"],VLayout:ot["a"],VSelect:It["a"],VTextField:rt["a"]});var Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{attrs:{fulid:""}},[a("Calender"),a("DataTable")],1)],1)},Ft=[],$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"display-2 mb-3 font-weight-light"},[t._v("Monthly View")]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pa-3 mb-3 feature-pane",attrs:{sm12:"",lg3:""}},[a("v-btn",{attrs:{fab:"",outline:"",small:"",absolute:"",left:"",color:"primary"},on:{click:function(e){return t.$refs.calendar.prev()}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n                    keyboard_arrow_left\n                ")])],1),a("v-btn",{attrs:{fab:"",outline:"",small:"",absolute:"",right:"",color:"primary"},on:{click:function(e){return t.$refs.calendar.next()}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n                    keyboard_arrow_right\n                ")])],1),a("br"),a("br"),a("br"),a("v-menu",{ref:"startMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.start,transition:"scale-transition","min-width":"290px",lazy:"","offset-y":"","full-width":""},on:{"update:returnValue":function(e){t.start=e},"update:return-value":function(e){t.start=e}},model:{value:t.startMenu,callback:function(e){t.startMenu=e},expression:"startMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}},[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.startMenu=!1}}},[t._v("\n                        Cancel\n                    ")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.$refs.startMenu.save(t.start)}}},[t._v("\n                        OK\n                    ")])],1)],1),t.hasEnd?a("v-menu",{ref:"endMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.end,transition:"scale-transition","min-width":"290px",lazy:"","offset-y":"","full-width":""},on:{"update:returnValue":function(e){t.end=e},"update:return-value":function(e){t.end=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{label:"End Date","prepend-icon":"event",readonly:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}},n))]}}],null,!1,2241163769),model:{value:t.endMenu,callback:function(e){t.endMenu=e},expression:"endMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}},[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.endMenu=!1}}},[t._v("\n                        Cancel\n                    ")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.$refs.endMenu.save(t.end)}}},[t._v("\n                        OK\n                    ")])],1)],1):t._e(),a("v-menu",{ref:"nowMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.now,transition:"scale-transition","min-width":"290px",lazy:"","offset-y":"","full-width":""},on:{"update:returnValue":function(e){t.now=e},"update:return-value":function(e){t.now=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{label:"Today","prepend-icon":"event",readonly:""},model:{value:t.now,callback:function(e){t.now=e},expression:"now"}},n))]}}]),model:{value:t.nowMenu,callback:function(e){t.nowMenu=e},expression:"nowMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollables:""},model:{value:t.now,callback:function(e){t.now=e},expression:"now"}},[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.nowMenu=!1}}},[t._v("\n                        Cancel\n                    ")]),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.$refs.nowMenu.save(t.now)}}},[t._v("\n                        OK\n                    ")])],1)],1),"custom-weekly"===t.type?a("v-text-field",{attrs:{label:"Minimum Weeks",type:"number"},model:{value:t.minWeeks,callback:function(e){t.minWeeks=e},expression:"minWeeks"}}):t._e(),t.hasIntervals?a("v-select",{attrs:{items:t.intervalsOptions,label:"Intervals"},model:{value:t.intervals,callback:function(e){t.intervals=e},expression:"intervals"}}):t._e(),"custom-daily"===t.type?a("v-select",{attrs:{items:t.maxDaysOptions,label:"# of Days"},model:{value:t.maxDays,callback:function(e){t.maxDays=e},expression:"maxDays"}}):t._e(),t.hasIntervals?a("v-select",{attrs:{items:t.styleIntervalOptions,label:"Styling"},model:{value:t.styleInterval,callback:function(e){t.styleInterval=e},expression:"styleInterval"}}):t._e()],1),a("v-flex",{staticClass:"pl-3",attrs:{sm12:"",lg9:""}},[a("v-sheet",{attrs:{height:"500"}},[a("v-calendar",{ref:"calendar",attrs:{type:t.type,start:t.start,end:t.end,"min-weeks":t.minWeeks,"max-days":t.maxDays,now:t.today,value:t.today,dark:t.dark,weekdays:t.weekdays,"first-interval":t.intervals.first,"interval-minutes":t.intervals.minutes,"interval-count":t.intervals.count,"interval-height":t.intervals.height,"interval-style":t.intervalStyle,"show-interval-label":t.showIntervalLabel,color:t.color},scopedSlots:t._u([{key:"day",fn:function(e){return[e.day%3===0?a("v-sheet",{staticClass:"white--text pa-1",attrs:{color:t.color}},[t._v("\n                            day slot "+t._s(e.date)+"\n                        ")]):t._e()]}},{key:"header",fn:function(e){return[e.weekday%2?a("div",{staticClass:"day-header"},[t._v("\n                            day-header slot "+t._s(e.date)+"\n                        ")]):t._e()]}},{key:"day-body",fn:function(e){return[e.weekday%3===2?a("div",{staticClass:"day-body"},[t._v("\n                            day-body slot "+t._s(e.date)+"\n                        ")]):t._e()]}}]),model:{value:t.start,callback:function(e){t.start=e},expression:"start"}})],1)],1)],1)],1)},Ht=[],qt=[0,1,2,3,4,5,6],Bt={first:0,minutes:60,count:24,height:40},Yt={default:function(t){return t},workday:function(t){var e=0===t.weekday||6===t.weekday||t.hour<9||t.hour>=17,a=0===t.minute,n=this.dark,o=n?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)";return{backgroundColor:e?n?"rgba(0,0,0,0.4)":"rgba(0,0,0,0.05)":void 0,borderTop:a?void 0:"1px dashed "+o}},past:function(t){return{backgroundColor:t.past?this.dark?"rgba(0,0,0,0.4)":"rgba(0,0,0,0.05)":void 0}}},Wt={name:"Calender",data:function(){return{dark:!1,today:null,startMenu:!1,start:"2019-01-12",endMenu:!1,end:"2019-01-27",nowMenu:!1,minWeeks:1,now:null,type:"month",typeOptions:[{text:"Day",value:"day"},{text:"4 Day",value:"4day"},{text:"Week",value:"week"},{text:"Month",value:"month"},{text:"Custom Daily",value:"custom-daily"},{text:"Custom Weekly",value:"custom-weekly"}],weekdays:qt,weekdaysOptions:[{text:"Sunday - Saturday",value:qt},{text:"Mon, Wed, Fri",value:[1,3,5]},{text:"Mon - Fri",value:[1,2,3,4,5]},{text:"Mon - Sun",value:[1,2,3,4,5,6,0]}],intervals:Bt,intervalsOptions:[{text:"Default",value:Bt},{text:"Workday",value:{first:16,minutes:30,count:20,height:40}}],maxDays:7,maxDaysOptions:[{text:"7 days",value:7},{text:"5 days",value:5},{text:"4 days",value:4},{text:"3 days",value:3}],styleInterval:"default",styleIntervalOptions:[{text:"Default",value:"default"},{text:"Workday",value:"workday"},{text:"Past",value:"past"}],color:"primary",colorOptions:[{text:"Primary",value:"primary"},{text:"Secondary",value:"secondary"},{text:"Accent",value:"accent"},{text:"Red",value:"red"},{text:"Pink",value:"pink"},{text:"Purple",value:"purple"},{text:"Deep Purple",value:"deep-purple"},{text:"Indigo",value:"indigo"},{text:"Blue",value:"blue"},{text:"Light Blue",value:"light-blue"},{text:"Cyan",value:"cyan"},{text:"Teal",value:"teal"},{text:"Green",value:"green"},{text:"Light Green",value:"light-green"},{text:"Lime",value:"lime"},{text:"Yellow",value:"yellow"},{text:"Amber",value:"amber"},{text:"Orange",value:"orange"},{text:"Deep Orange",value:"deep-orange"},{text:"Brown",value:"brown"},{text:"Blue Gray",value:"blue-gray"},{text:"Gray",value:"gray"},{text:"Black",value:"black"}]}},methods:{todayDate:function(){var t=new Date,e=t.getDate(),a=t.getMonth()+1,n=t.getFullYear();return e<10&&(e="0"+e),a<10&&(a="0"+a),t=n+"-"+a+"-"+e,t},getSelectedCompetitorPrices:function(){console.log("started api request"),G.getCompetitorAvgPrices().then(function(t){console.log(t.data)}).catch(function(t){console.log("There was an error:"+t.response)})},showIntervalLabel:function(t){return 0===t.minute}},computed:{intervalStyle:function(){return Yt[this.styleInterval].bind(this)},hasIntervals:function(){return this.type in{week:1,day:1,"4day":1,"custom-daily":1}},hasEnd:function(){return this.type in{"custom-weekly":1,"custom-daily":1}}},created:function(){this.today=this.todayDate()}},Kt=Wt,Ut=(a("a36b"),a("a4f6")),Nt=a("2e4b"),Jt=a("e449"),Gt=a("8dd9"),zt=Object(v["a"])(Kt,$t,Ht,!1,null,"0495f61e",null),Xt=zt.exports;h()(zt,{VBtn:g["a"],VCalendar:Ut["a"],VDatePicker:Nt["a"],VFlex:at["a"],VIcon:y["a"],VLayout:ot["a"],VMenu:Jt["a"],VSelect:It["a"],VSheet:Gt["a"],VSpacer:C["a"],VTextField:rt["a"]});var Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.rooms,pagination:t.pagination,"select-all":"","item-key":"name"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",t._l(e.headers,function(e){return a("th",{key:e.text,class:["column sortable",t.pagination.descending?"desc":"asc",e.value===t.pagination.sortBy?"active":""],on:{click:function(a){return t.changeSort(e.value)}}},[a("v-icon",{attrs:{small:""}},[t._v("arrow_upward")]),t._v("\n          "+t._s(e.text)+"\n          ")],1)}),0)]}},{key:"items",fn:function(e){return[a("tr",{attrs:{active:e.selected},on:{click:function(t){e.selected=!e.selected}}},[a("td",[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.currentprice))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.competitorpriceav))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.marketvalue))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.optimalprice))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.potential))])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},Zt=[],te=(a("8615"),{name:"DataTable",data:function(){return{props:{today:"2019-04-24"},pagination:{sortBy:"name"},selected:[],headers:[{text:"Competitor Hotel",align:"left",value:"name"},{text:"Current Price",value:"currentprice"},{text:"Competitors Price Average",value:"competitorpriceav"},{text:"Market Value",value:"marketvalue"},{text:"Optimal Price",value:"optimalprice"},{text:"Potential (%)",value:"optimalprice"}],rooms:[]}},created:function(){this.getSelectedCompetitorPrices()},methods:{changeSort:function(t){this.pagination.sortBy===t?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=t,this.pagination.descending=!1)},constructRooms:function(t,e,a,n){for(var o=[],r=0;r<t.length;r+=1){var i={};i.name=t[r],i.currentprice=e.toFixed(2),i.competitorpriceav=a[r].toFixed(2),i.marketvalue=(a[r]+6.5*Math.random()).toFixed(2),i.optimalprice=n[r].toFixed(2),i.potential=(n[r]-e).toFixed(2),o.push(i)}this.rooms=o},getValuesByKey:function(t,e){for(var a=[],n=0;n<t.length;n+=1)a.push(t[""+n][e]);return a},getValuesOfKeyAtKeyWithValue:function(t,e,a,n){for(var o=[],r=0;r<t.length;r+=1)console.log(t[r][a]),t[r][a]===n&&o.push(t[r][e]);return o},getSelectedCompetitorPrices:function(){var t=this;console.log("=>updating selected comptetior prices");var e=JSON.parse(JSON.stringify(this.$store.getters.competitorsArray)),a=this.getValuesByKey(e,"hotel_id"),n=""+a.join();this.$store.dispatch("setCompetitorsUids",n.replace(" ","")),console.log(n.replace(" ","")),G.getCompetitorAvgPrices(n.replace(" ","")).then(function(e){console.log(e.data);var a=Object.keys(e.data.data).map(function(t){return e.data.data[t]});console.log("This is the competitors data");var n=a["0"].competitors_data;console.log(Object.values(n));for(var o=[],r=[],i=a["0"].price,s=0;s<n.length;s+=1)o.push(n[s].price),r.push(n[s].hotel_name);t.constructRooms(r,i,o,o)}).catch(function(t){console.log("There was an error:"+t.response)})}}}),ee=te,ae=a("8fea"),ne=Object(v["a"])(ee,Qt,Zt,!1,null,null,null),oe=ne.exports;h()(ne,{VDataTable:ae["a"],VIcon:y["a"],VLayout:ot["a"]});var re={name:"Monthly",components:{Calender:Xt,DataTable:oe}},ie=re,se=Object(v["a"])(ie,Lt,Ft,!1,null,"d7c4fb34",null),le=se.exports;h()(se,{VContainer:q["a"]}),n["a"].use(j["a"]);var ce=new j["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Y},{path:"/register",name:"register",component:st,meta:{notRequiresAuth:!0}},{path:"/login",name:"login",component:mt,meta:{notRequiresAuth:!0}},{path:"/selectcompetitor",name:"selectcompetitor",component:xt,meta:{requiresAuth:!0}},{path:"/analytics",name:"analytics",component:jt,meta:{requiresAuth:!0}},{path:"/monthly",name:"monthly",component:le,meta:{requiresAuth:!0}},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]});ce.beforeEach(function(t,e,a){var n=localStorage.getItem("user");t.matched.some(function(t){return t.meta.requiresAuth})&&!n&&a("/"),t.matched.some(function(t){return t.meta.notRequiresAuth})&&n&&a("/"),a()});var ue=ce;n["a"].use(u["a"]);var de=new u["a"].Store({state:{message:"",competitorsArray:[],competitorsPricesArray:[],competitorsUids:"",user:null},getters:{message:function(t){return t.message},competitorsArray:function(t){return t.competitorsArray},competitorsPricesArray:function(t){return t.competitorsPricesArray},competitorsUids:function(t){return t.competitorsUids},loggedIn:function(){return!!localStorage.getItem("user")}},mutations:{SET_MESSAGE:function(t,e){t.message=e},SET_COMPETITORS_ARRAY:function(t,e){t.competitorsArray=e},SET_COMPETITORS_PRICE_ARRAY:function(t,e){t.competitorsPricesArray=e},SET_COMPETITORS_UIDS:function(t,e){t.competitorsUids=e},SET_USER_DATA:function(t,e){t.user=e,localStorage.setItem("user",JSON.stringify(e)),N.a.defaults.headers.common["Authorization"]="Bearer ".concat(e.token)},CLEAR_USER_DATA:function(t){localStorage.removeItem("user"),t.user=null,N.a.defaults.headers.common["Authorization"]=null,location.reload()}},actions:{setMessage:function(t,e){var a=t.commit,n=t.state;return a("SET_MESSAGE",e),n.message},setCompetitorsArray:function(t,e){var a=t.commit;return a("SET_COMPETITORS_ARRAY",e),!0},setCompetitorsPriceArray:function(t,e){var a=t.commit;return a("SET_COMPETITORS_PRICE_ARRAY",e),!0},setCompetitorsUids:function(t,e){var a=t.commit;return a("SET_COMPETITORS_UIDS",e),!0},register:function(t,e){var a=t.commit;return N.a.post("http://35.158.76.194/api/register",e).then(function(t){var e=t.data;a("SET_USER_DATA",e)})},login:function(t,e){var a=t.commit;return N.a.post("http://35.158.76.194/api/login",e).then(function(t){var e=t.data;a("SET_USER_DATA",e)})},logout:function(t){var e=t.commit;e("CLEAR_USER_DATA")}}}),pe=a("8103"),me=a.n(pe),ve=a("bba4"),fe=a.n(ve),he=a("b92a"),ge=(a("1fe0"),{});n["a"].use(he["a"],ge);var ye=a("ef13");ye.keys().forEach(function(t){var e=ye(t),a=me()(fe()(t.split("/").pop().replace(/\.\w+$/,"")));n["a"].component(a,e.default||e)}),n["a"].config.productionTip=!1,new n["a"]({router:ue,store:de,render:function(t){return t(R)}}).$mount("#app")},a36b:function(t,e,a){"use strict";var n=a("1a90"),o=a.n(n);o.a},ef13:function(t,e){function a(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id="ef13"}});
//# sourceMappingURL=app.bd9ca1ec.js.map